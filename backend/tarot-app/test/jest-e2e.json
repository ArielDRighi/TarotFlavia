{
  "moduleFileExtensions": ["js", "json", "ts"],
  "rootDir": ".",
  "testEnvironment": "node",
  "testRegex": ".e2e-spec.ts$",
  "transform": {
    "^.+\\.(t|j)s$": "ts-jest"
  },
  "modulePaths": ["<rootDir>/../node_modules", "<rootDir>/../"],
  "moduleDirectories": ["node_modules"],
  "globalSetup": "<rootDir>/setup-e2e-db.ts",
  "globalTeardown": "<rootDir>/teardown-e2e-db.ts",
  "maxWorkers": 1,
  "forceExit": true,
  "detectOpenHandles": false,
  "setupFiles": ["<rootDir>/setup-env.ts"],
  "collectCoverageFrom": [
    "../src/**/*.ts",
    "!../src/**/*.spec.ts",
    "!../src/**/*.e2e-spec.ts",
    "!../src/**/index.ts",
    "!../src/main.ts",
    "!../src/config/**",
    "!../src/database/migrations/**",
    "!../src/database/seeds/**"
  ],
  "coverageDirectory": "../coverage-e2e",
  "coverageReporters": ["text", "text-summary", "html", "lcov", "json"],
  "coveragePathIgnorePatterns": [
    "/node_modules/",
    "/test/",
    "/dist/",
    ".module.ts$",
    "main.ts$"
  ]
}
